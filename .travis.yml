dist: xenial
sudo: required
language: python
python:
  - "3.7"
cache: pip

before_install:
  - chmod -R 777 .

install:
  - pip install -r requirements.txt

script:
  - pycodestyle . --exclude=./CreeDictionary/API/migrations/*.py,./env/
  - coverage run --source CreeDictionary/ CreeDictionary/manage.py test API
  - coverage report -m
#  - python manage.py makemigrations
#  - python manage.py migrate
  - cd ../
  - cd DictionaryImporter
  - coverage run --source . -m unittest discover -p  "*_test.py"
  - coverage report -m